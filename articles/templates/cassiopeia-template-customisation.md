<!-- Filename: J4.x:Cassiopeia_Template_Customisation / Display title: Кастомизация Кассиопеи  -->

## Введение

Cassiopeia — это шаблон сайта, предоставляемый с Joomla 4. Это отличный универсальный **доступный** и **адаптивный** шаблон. Его можно настроить с помощью параметров шаблона и файла *user.css* пользователями, имеющими небольшие знания HTML и CSS.

На следующей иллюстрации показан внешний вид сайта Joomla 4 с одной статьей и несколькими созданными пунктами меню.

![Вид одной статьи Cassiopeia](../../../en/images/templates/cassiopeia-customisation-article-view.png)

## Шаблоны: Изменение стиля

Вы можете поэкспериментировать с внешним видом сайта, открыв форму «Изменение стиля». Перейдите в **Система → Шаблоны → Стили шаблона сайта** и выберите заголовок шаблона в колонке "Стиль", Cassiopeia - По умолчанию. Вкладка "Расширенные настройки" содержит параметры, которые можно настроить:

![Cassiopeia edit style advanced tab](../../../en/images/templates/cassiopeia-customisation-edit-style.png)

Чтобы опробовать варианты, откройте одну вкладку или окно браузера с интерфейсом администратора и вторую вкладку или окно с пользовательским интерфейсом сайта и переключайтесь между ними после каждого сохраненного изменения.

### Бренд

- **Да** по умолчанию. Логотип или название бренда на панели Cassiopeia отображаются на темном фоне, по умолчанию синем.
- **Нет** Панель с логотипом не отображается. Опции выбора логотипа, заголовка и слогана исчезают.

Изображение бренда по умолчанию - это слово Cassiopeia в виде изображения в SVG-файле. Именно это показано на первой иллюстрации выше.

Вы можете установить "Нет" для параметра Бренд, если хотите предоставить брендинг в индивидуальном HTML-модуле.

### Логотип

- **Нет** По умолчанию будет использоваться изображение логотипа Cassiopeia, если не задан заголовок.
- **Изображение логотипа** Выбранный логотип появится вместо логотипа Cassiopeia, даже если задан заголовок.

### Заголовок (альтернатива логотипу)

- **Название моего бренда** Если присутствует и вы не выбрали изображение логотипа, слова в поле заголовка появятся подчёркнутыми в синей верхней панели.

### Слоган

- **Всегда к вашим услугам** Если присутствует, слова в поле слогана появятся маленьким шрифтом под изображением логотипа или названием бренда.

![Cassiopeia brand with tagline](../../../en/images/templates/cassiopeia-customisation-brand-with-tagline.png)

### Цветовая схема шрифтов

- **Нет** по умолчанию. Используется семейство шрифтов, указанное в стилевом листе шаблона, что обычно означает, что сайт будет использовать шрифты, которые вам знакомы и доступны на вашем компьютере.
- **Другие** Будет использована семейство шрифтов, расположенное в иерархии папок шаблона или загруженное из интернета. Вы можете увидеть изменённый внешний вид текста на странице после перезагрузки сайта после изменения этой опции.

### Цветовая тема

- **Стандартная** Тёмно-синий цвет фона для панели бренда и других функций, таких как кнопка входа в систему.
- **Альтернативная** Маруновый цвет фона вместо тёмно-синего.

![Cassiopeia alternative colour scheme](../../../en/images/templates/cassiopeia-customisation-alt-color-scheme.png)

### Макет

- **Статический** по умолчанию. Максимальная ширина составляет 1320 пикселей. На более широких экранах просто увеличивается отступ.
- **Гибкий** Максимальная ширина не установлена.

Вид на узком экране мобильного устройства:

![Cassiopeia mobile view](../../../en/images/templates/cassiopeia-customisation-mobile-view.png)

### Закреплённый заголовок

- **Нет** по умолчанию. Элементы заголовка и содержимого прокручиваются вверх за пределы экрана.
- **Да** За исключением узких экранов, элементы заголовка остаются закреплены наверху экрана, в то время как элементы содержимого прокручиваются вверх. Это заметно только там, где содержимое страницы выше, чем экран.

### Ссылка "Наверх"

- **Нет** по умолчанию. Ссылки "Наверх" нет.
- **Да** Когда содержимое выше, чем экран, внизу справа страницы находится кнопка с указателем вверх. Нажмите её, чтобы прокрутить наверх страницы.

![Cassiopeia back to top](../../../en/images/templates/cassiopeia-customisation-back-to-top.png)

## Позиции шаблона Cassiopeia

Когда вы создаете сайт с помощью Cassiopeia, очень полезно знать расположения позиций, которые вы можете использовать для модулей. Некоторые из них описательные, как *menu* и *bottom-a*, но не так очевидно, где они находятся, пока вы их не используете. Эта иллюстрация должна помочь:

![Позиции шаблона Cassiopeia](../../../en/images/templates/cassiopeia-template-positions.png)

Попробуйте следующее:

### Перемещение модуля меню на позицию *menu*

На только что установленном сайте Joomla 4 меню находится в позиции *sidebar-right*, что видно на первой иллюстрации выше. Для этого руководства были добавлены некоторые элементы меню, один из которых является родительским с двумя дочерними элементами. Чтобы переместить это меню на позицию меню, перейдите в **Контент **→** Модули сайта** в меню Администратора. В списке есть три модуля, включая Основное меню. Выберите его, чтобы открыть форму редактирования Модули: Меню.

На вкладке Модуль измените поле Позиция справа на Меню \[menu\]. Сохраните изменения и посмотрите на результат в отображении сайта. Меню выглядит нормально, но дочерних элементов нет.

В форме редактирования меню выберите вкладку Дополнительно и прокрутите вниз до поля Макет. Это выпадающий список с четырьмя вариантами. По умолчанию выбрано --Из модуля-- / Стандартно. Попробуйте другие варианты и посмотрите, что получится. (Не забудьте *Сохранить* в форме редактирования и перезагрузить вид на сайте.) Ни один из вариантов --Из модуля-- не показывает дочерние элементы меню, но оба варианта --Из шаблона Cassiopeia-- показывают.

![Позиции меню Cassiopeia](../../../en/images/templates/cassiopeia-customisation-menu-position.png)

Так в чем же разница, которую делает **Свертываемое**?

- Свертываемое выпадающее: На узких мобильных устройствах меню сворачивается до значка гамбургера до выбора. При выборе оно расширяется, чтобы показать вертикальный список.
- Выпадающее: Меню всегда отображается в виде вертикального списка.

### Перемещение модуля меню на позицию *topbar*

В форме редактирования на вкладке Модуль установите Позицию на Верхняя панель \[topbar\] и посмотрите на результат. Есть загвоздка - меню расположено дальше влево, чем когда оно было в позиции меню. Это потому, что позиция меню и местоположение логотипа имеют CSS класс *grid-child*, но верхняя панель не имеет его. Это можно исправить с помощью записи в файл *user.css*, который будет описан ниже.

## Настройка Cassiopeia

Что делать, если вам не нравится темно-синий цвет фона заголовка?
Предположим, вы предпочли бы темно-зеленую тему. Чтобы это исправить, нужно немного знать CSS. Перейдите в **Система**→**Шаблоны сайта**→**Детали и файлы Cassiopeia**, чтобы открыть форму шаблона: Настройка (Cassiopeia).

Иллюстрация ниже показывает две группы папок. Первая группа состоит из папок и файлов шаблона, которые вы не должны изменять, но можете добавлять в них. В частности, вы можете добавить файлы HTML с переопределением шаблона в папку *html*. Вторая группа содержит файлы медиа шаблона, которые не следует изменять. Однако вы можете добавить файл *user.css* в папку *css* и/или файл *user.js* в папку *js*. Это потребуется, если вы хотите внести несколько простых изменений во внешний вид сайта.

![Редактирование файлов Cassiopeia](../../../en/images/templates/cassiopeia-customisation-edit-files.png)

Обратите внимание, что в папке *css* нет файла *user.css*. Это тот файл, который вы создаете сами, чтобы переопределить ранее определенные стили. Если его нет, создайте его сейчас, выбрав папку *css* и затем нажав кнопку *Новый*. В появившемся диалоговом окне "Новый файл" выберите папку *css*, иначе новый файл появится не в том месте. В поле "Имя файла" введите user (строчными буквами и без *.css*) и выберите *.css* в поле "Тип файла". Выберите кнопку "Создать", чтобы создать файл. Если *user.css* уже существует, выберите его, чтобы открыть форму редактирования.

### Заголовки

В качестве простого начала измените цвет заголовков на темно-зеленый. Заголовки — это теги в диапазоне от *h1, h2, h3, h4, h5* до *h6*. В файле *user.css* введите определение стиля:
```css
    h1, h2, h3, h4, h5, h6 {
      color: darkgreen;
    }
```
Сохраните и перезагрузите сайт, чтобы увидеть результат. Заголовок страницы или статьи должен быть темно-зеленым. Если нет, проверьте, что вы напечатали. Официальный язык для документации Joomla — британский английский, поэтому color пишется как colour в британском английском. Но в CSS должно быть color. Правильна ли пунктуация?

Менее очевидно, что некоторые теги, кроме заголовков, могут быть стилизованы как заголовки. Поэтому добавьте это:
```css
    .h1, .h2, .h3, .h4, .h5, .h6 {
      color: darkgreen;
    }
```
Обратите внимание, что ведущая точка (.) является селектором класса, например, Dummy H1 — значит, в CSS-файле есть точка, но в названии класса ее нет.

### Фон заголовка

В открытой вкладке браузера с сайтом откройте инструменты разработчика вашего браузера. В этом примере Firefox, и выберите тег заголовка.

![Инструменты разработчика Cassiopeia](../../../en/images/templates/cassiopeia-customisation-developer-tools.png)

Это показывает используемые стили. Стиль container-header устанавливает background-color и background-image. Их нужно переопределить в файле *user.css*. Попробуйте это:
```css
    .container-header {
      background-color: darkgreen;
      background-image: none;
    }
```

### Стиль *topbar*

Помните комментарий о том, что меню слишком далеко слева в верхней панели? Это происходит потому, что не установлена максимальная ширина и соответствующие поля. Положите это в файл *user.css*, чтобы исправить это:
```css
    .container-topbar {
      max-width: 1320px;
      margin-left: auto;
      margin-right: auto;
    }
```
Это рабочая зеленая тема:

![Зеленая тема Cassiopeia](../../../en/images/templates/cassiopeia-customisation-green-theme.png)

### Доступность

Обратите внимание, что должен быть достаточный контраст между фоном и цветами переднего плана, чтобы соответствовать стандартам доступности веб-сайтов. Вы можете проверить ваш контраст в WebAIM Contrast Checker.
Темно-зеленый — это \#006400.

## Переопределения

Вкладка Создание Переопределений в форме Шаблоны: Настройка (Cassiopeia) показывает список расширений, для которых вы можете создать переопределение. Обратите внимание на различные символы: выберите символ папки, чтобы показать список папок и файлов, которые она содержит; выберите символ с несколькими файлами, чтобы сразу создать переопределение для этого расширения; созданный элемент исчезает из списка - выберите вкладку Редактор и найдите созданное переопределение в папке *html*. Может быть создано более одного файла - созданные файлы копируются из оригинального расширения и готовы для редактирования. Для этого вам нужно знать немного HTML и PHP!

Это вкладка Создание Переопределений:

![Cassiopeia создание переопределений](../../../en/images/templates/cassiopeia-customisation-create-overrides.png)

Если вы просто экспериментируете и на самом деле не хотите переопределение, вы можете *Закрыть* форму редактирования, выбрать кнопку Управление Папками на панели инструментов и выбрать кнопку Удалить внизу всплывающей формы Управление Папками.

Переопределения на самом деле касаются настройки расширений, а не шаблона Cassiopeia, и это уже другая история.

## Дочерние шаблоны

Если вы хотите внести более существенные изменения во внешний вид сайта, вы можете создать дочерний шаблон. Он копирует только небольшую часть папок и файлов для изменения или добавления, но в остальном продолжает использовать папки и файлы родительского шаблона. Используя дочерние шаблоны, вы можете сделать так, чтобы на одних страницах была одна цветовая тема, а на других — другая. Дочерние шаблоны рассматриваются в других разделах. Вот пример структуры файлов в дочернем шаблоне Cassiopeia:

![Файлы дочернего шаблона Cassiopeia](../../../en/images/templates/cassiopeia-customisation-child-template-files.png)

