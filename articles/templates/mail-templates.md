<!-- Filename: J5.x:Managing_Mail_Template_Layout / Display title: Шаблоны писем -->

## Введение

Шаблоны писем используются для отправки системных сообщений электронной почты в **простом тексте**, **HTML** или обоими способами, выбранными в форме *Шаблоны писем: параметры*. Если выбран только один метод, альтернатива не будет присутствовать в форме редактирования сообщения.

Следующий скриншот показывает выбор из 26 стандартных почтовых шаблонов, доступных в системе. Список доступен, если выбрать **Система -> Почтовые шаблоны** в меню администратора.

![mail templates list](../../../en/images/templates/mail-templates-list.png)

Почтовые сообщения можно настраивать, изменяя их макет, внешний вид и текст в соответствии с потребностями вашего сайта. Например, вам может понадобиться использовать логотип сайта и цветовую схему в тех письмах, которые отправляются клиентам. Настройка писем, отправляемых администраторам, менее важна.

Существует два метода настройки: через *Mail Template: Options* для всех шаблонов почты и через *Per Template Mail Settings*.

## Шаблон почты: Опции

Выберите кнопку **Параметры** на панели инструментов списка *Шаблоны писем*, чтобы получить доступ к общим настройкам шаблона писем. Выберите кнопку *Переключить встроенную помощь*, чтобы увидеть, есть ли у каких-либо полей формы дополнительная помощь.

![mail templates options](../../../en/images/templates/mail-templates-options.png)

### Формат почты

Имейте в виду, что получатель может настроить почтовый клиент для использования простого HTML или обычного текста, чтобы избежать загрузки изображений. Поэтому лучше установить *Формат почты* на *Текст* или *Оба*.

### Настройки почты по шаблону

Если это значение установлено на **Да**, то у отдельных форм редактирования шаблонов писем появится дополнительная вкладка *Опции*, которая позволяет изменять настройки почты для этого шаблона и, при необходимости, отправлять копию (BCC) на конкретный адрес электронной почты, при условии, что поле **Отправить копию** здесь также установлено на **Включено**.

## Форма редактирования шаблона

В списке шаблонов писем вы можете выбрать любой шаблон для редактирования. Ссылка с названием ведет к форме редактирования для шаблона на английском языке по умолчанию. Каждый флаг является ссылкой на тот же шаблон на соответствующем языке.

### Вкладка Почта

![edit mail template form](../../../en/images/templates/mail-template-edit.png)

Содержимое областей Тема и Тело изначально хранится в виде языковых строк. Это упрощает *Сброс темы по умолчанию* или *Тела*. Однако, как только конкретный шаблон письма был изменен, его поля Тема и Тело хранятся в таблице `#__mail_templates`.

Элементы в фигурных скобках являются элементами-заполнителями, которые заменяются реальными значениями при отправке электронного письма. В приведенном выше примере `{SITENAME}` будет заменено на выбранное вами название сайта. `{Method}` будет выбранным методом передачи почты: `PHP Mail`, `Sendmail` или `SMTP`.

Теги-заполнители, доступные в письмах, могут различаться. Вы можете добавить собственные пользовательские теги-заполнители, но для этого требуется пользовательский плагин, описанный в [статье журнала](https://magazine.joomla.org/all-issues/february-2025/joomla-5-email-templates-how-to-add-variables-via-plugin) за февраль 2025 года.

### Вкладка Параметры

Эта вкладка присутствует только в случае, если параметр *Per Template Mail Settings* установлен на *Yes* в *Mail Templates: Options*. Иллюстрация ниже показывает скриншот с параметром *Mail Settings*, установленным на *No*. Если установить на *Yes*, появится больше полей формы, которые переопределяют параметры Mail, установленные в Глобальной конфигурации, вкладка Server.

![edit mail template form](../../../en/images/templates/mail-template-edit-options.png)

Если вы хотите отправить скрытую копию исходящего электронного письма на определенный адрес электронной почты, вы можете ввести его в поле *Отправить копию на электронную почту*.

## Переопределения шаблона почты

Чтобы создать переопределение почтового шаблона в пользовательском шаблоне:

1. Перейдите в Система -> Шаблоны сайта -> Откройте ваш шаблон (например, Cassiopeia).
2. Во вкладке Создать переопределения выберите joomla -> mail.
3. Joomla скопирует файл `mailtemplate.php` в директорию `/html/layouts/joomla/mail/` вашего шаблона, где вы сможете изменить его по необходимости.

Как только переопределение создано, вы можете изменить макет и стили ваших электронных писем, не затрагивая базовый шаблон.

## Список шаблонов писем

| Заголовок | Расширение | Описание |
|-------|-----------|-------------|
| Журнал действий пользователей: Уведомление по почте | Журнал действий пользователей | Письмо, отправляемое администраторам о новых записях в журнале действий пользователей. |
| Глобальная конфигурация: Тестовая почта | Конфигурация | Отправляется при нажатии кнопки "Отправить тестовое письмо" в глобальной конфигурации. Отправляется на адрес отправки, указанный в настройках почты. |
| Контакты: Письмо с контактной формы | Контакты | Электронное письмо с контактной формы. |
| Контакты: Копия письма с контактной формы | Контакты | Отправляется отправителю письма с контактной формы, если включена и выбрана опция "Отправить копию отправителю". |
| Сообщения: Новое сообщение | Сообщения | Электронное письмо, содержащее сообщение, созданное в компоненте сообщений. |
| Конфиденциальность: Запрос на экспорт данных (админ) | Конфиденциальность | Письмо, информирующее пользователя, что администратор создал запрос на экспорт данных с этого веб-сайта. |
| Конфиденциальность: Запрос на удаление данных (админ) | Конфиденциальность | Письмо, информирующее пользователя, что администратор создал запрос на удаление данных с этого веб-сайта. |
| Конфиденциальность: Запрос на экспорт данных | Конфиденциальность | Письмо, проверяющее, что данные пользователя должны быть экспортированы с веб-сайта. |
| Конфиденциальность: Запрос на удаление данных | Конфиденциальность | Письмо, проверяющее, что данные пользователя должны быть удалены с веб-сайта. |
| Конфиденциальность: Экспорт данных пользователя | Конфиденциальность | Письмо с экспортом данных пользователя. |
| Пользователи: Массовая рассылка пользователям | Пользователи | Письмо "Массовая рассылка пользователям". |
| Пользователи: Сброс пароля | Пользователи | Отправляется пользователю по ссылке "Забыли пароль?", например, в форме входа. |
| Пользователи: Уведомление администратору о новом аккаунте | Пользователи | Уведомление администратору, что создан новый, активированный аккаунт. |
| Пользователи: Запрос администратору на проверку нового аккаунта | Пользователи | Уведомление администраторам для проверки нового, подтвержденного аккаунта. |
| Пользователи: Аккаунт активирован администратором | Пользователи | Уведомление, отправленное пользователю, что новый аккаунт активирован администратором. |
| Пользователи: Новый аккаунт с активацией администратором | Пользователи | Уведомление пользователю о новом аккаунте, который теперь должен быть активирован администратором. |
| Пользователи: Новый аккаунт с активацией администратором (с паролем) | Пользователи | Уведомление пользователю о новом аккаунте, который теперь должен быть активирован администратором. Открытый пароль включен в письмо. |
| Пользователи: Новый аккаунт без активации | Пользователи | Уведомление пользователю о новом аккаунте. Аккаунт уже активирован. |
| Пользователи: Новый аккаунт без активации (с паролем) | Пользователи | Уведомление пользователю о новом аккаунте. Аккаунт уже активирован. Открытый пароль включен в письмо. |
| Пользователи: Новый аккаунт с самостоятельной активацией | Пользователи | Уведомление пользователю о новом аккаунте, который он теперь должен самостоятельно активировать. |
| Пользователи: Новый аккаунт с самостоятельной активацией (с паролем) | Пользователи | Уведомление пользователю о новом аккаунте, который он теперь должен самостоятельно активировать. Открытый пароль включен в письмо. |
| Пользователи: Напоминание имени пользователя | Пользователи | Отправляется пользователю по ссылке "Забыли имя пользователя?", например, в форме входа. |
| Код, отправленный по электронной почте | Многофакторная аутентификация - Код аутентификации по электронной почте | Отправляется пользователям со страницы многофакторной аутентификации при использовании опции "Код аутентификации по электронной почте". |
| Задача - Согласие на конфиденциальность: Обновить согласие | Задача - Согласия на конфиденциальность | Напоминание о необходимости обновить согласие на конфиденциальность для этого веб-сайта. |
| Joomla: Уведомление об обновлении | Задача - Уведомление об обновлении Joomla! | Отправляется администраторам сайта, когда плагин задачи "Уведомление об обновлении Joomla!" обнаруживает обновление. |
| Пользователи: Новый пользователь | Пользователь - Joomla! | Отправляется новому пользователю при создании в бэкенде. |

*Переведено openai.com*

