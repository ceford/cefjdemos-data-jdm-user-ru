<!-- Filename: Visual_Studio_Code / Display title: Дополнения для Visual Studio Code -->

## Введение

[Visual Studio Code](https://code.visualstudio.com/) — это редактор исходного кода, 
разработанный Microsoft для Windows, Linux и macOS (включая M1 Mac). Он 
включает поддержку отладки, встроенное управление Git и GitHub, подсветку 
синтаксиса, интеллектуальное автодополнение кода, сниппеты и рефакторинг кода.

Главная характеристика редактора в том, что он расширяемый и имеет 
огромную коллекцию расширений, поддерживаемых пользователями и самой компанией Microsoft.

В качестве общего введения, это презентация на тему 
<a href="https://www.renekreijveld.nl/slides/juglondon/vscode.pdf"
rel="nofollow noreferrer noopener">Разработка Joomla с Visual Studio
Code (PDF, 1Mb)</a> от Рене Крейвелд, разработчика Joomla Destiny B.V. Группа пользователей Joomla 
в Лондоне, 16 марта 2021 г.

На этой странице мы подробно рассматриваем список рекомендуемых расширений для настройки 
VSCode для поддержки PHP и Joomla.

Это список расширений для поддержки PHP в VSCode:

- **PHP Debug** <a
  href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-debug"
  rel="nofollow noreferrer noopener">felixfbecker.php-debug</a>. Поддержка
  отладки для PHP с XDebug.
- **phpcs** <a
  href="https://marketplace.visualstudio.com/items?itemName=ikappas.phpcs"
  rel="nofollow noreferrer noopener">ikappas.phpcs</a>. PHP CodeSniffer
  для Visual Studio Code.
- **PHP Intelephense** <a
  href="https://marketplace.visualstudio.com/items?itemName=bmewburn.vscode-intelephense-client"
  rel="nofollow noreferrer noopener">bmewburn.vscode-intelephense-client</a>.
  Интеллектуальная поддержка PHP кода для Visual Studio Code. Альтернатива: *PHP
  IntelliSense* <a
  href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-intellisense"
  rel="nofollow noreferrer noopener">felixfbecker.php-intellisense</a>
- **PHPUnit** <a
  href="https://marketplace.visualstudio.com/items?itemName=emallin.phpunit"
  rel="nofollow noreferrer noopener">emallin.phpunit</a>. Запуск тестов PHPUnit 
  в VSCode.
- **phpfmt** <a
  href="https://marketplace.visualstudio.com/items?itemName=kokororin.vscode-phpfmt"
  rel="nofollow noreferrer noopener">kokororin.vscode-phpfmt</a>. Отсутствующее 
  расширение phpfmt для Visual Studio Code. Форматер phpfmt может 
  анализировать и форматировать даже PHP файл версии 4, если это необходимо.
- **php cs fixer** <a
  href="https://marketplace.visualstudio.com/items?itemName=junstyle.php-cs-fixer"
  rel="nofollow noreferrer noopener">junstyle.php-cs-fixer</a>: В случае
  выбора <a href="https://www.php-fig.org/psr/psr-2/"
  rel="nofollow noreferrer noopener">PSR-2: Руководство по стилю кодирования</a>. 
  Расширение PHP CS Fixer для VS Code, форматер php, инструмент для улучшения 
  кода php, форматирование html.
- **PHP Namespace Resolver** <a
  href="https://marketplace.visualstudio.com/items?itemName=MehediDracula.php-namespace-resolver"
  rel="nofollow noreferrer noopener">MehediDracula.php-namespace-resolver</a>:
  PHP Namespace Resolver может импортировать и раскрывать ваши классы. Вы также можете 
  сортировать импортированные классы по длине строки или в алфавитном порядке.
- **PHP Phan (Analyzer)** <a
  href="https://marketplace.visualstudio.com/items?itemName=TysonAndre.php-phan"
  rel="nofollow noreferrer noopener">tysonandre.php-phan</a>. Phan - 
  статический анализатор для PHP, минимизирующий ложные срабатывания.
- **phpmd** <a
  href="https://marketplace.visualstudio.com/items?itemName=linyang95.phpmd"
  rel="nofollow noreferrer noopener">linyang95.phpmd</a>. Расширение VS Code 
  для php, использующее phpmd.

Протокол Git имеет встроенную поддержку в VSCode. Однако имеются 
расширения для улучшения управления кодом и репозиториями. Вот список 
рекомендуемых расширений для этой задачи:

- **Git History** <a
  href="https://marketplace.visualstudio.com/items?itemName=donjayamanne.githistory"
  rel="nofollow noreferrer noopener">donjayamanne.githistory</a>: История 
  Git, поиск и многое другое (включая git log).
- **GitHub** <a
  href="https://marketplace.visualstudio.com/items?itemName=KnisterPeter.vscode-github"
  rel="nofollow noreferrer noopener">KnisterPeter.vscode-github</a>:
  Это расширение vscode интегрируется с GitHub.
- **GitHub Pull Requests and Issues** <a
  href="https://marketplace.visualstudio.com/items?itemName=GitHub.vscode-pull-request-github"
  rel="nofollow noreferrer noopener">GitHub.vscode-pull-request-github</a>:
  Просматривайте и управляйте вашими запросами на изменение и проблемами на GitHub 
  непосредственно в VS Code.
- **gitignore** <a
  href="https://marketplace.visualstudio.com/items?itemName=codezombiech.gitignore"
  rel="nofollow noreferrer noopener">codezombiech.gitignore</a>: Расширение 
  для Visual Studio Code, которое помогает вам работать с файлами .gitignore.
- **Visual Studio Code Commitizen Support** <a
  href="https://marketplace.visualstudio.com/items?itemName=KnisterPeter.vscode-commitizen"
  rel="nofollow noreferrer noopener">KnisterPeter.vscode-commitizen</a>:
  Это расширение vscode добавляет поддержку commitizen.

Это список расширений для поддержки Joomla в VSCode:

- **Joomla Snippets** <a
  href="https://marketplace.visualstudio.com/items?itemName=AnibalSanchez.vs-code-joomla-snippets"
  rel="nofollow noreferrer noopener">anibalsanchez.vs-code-joomla-snippets</a>.
  Сниппеты для Joomla. Включая сниппеты для Joomla 3.x и Joomla 4.
- **PHP Getters & Setters** <a
  href="https://marketplace.visualstudio.com/items?itemName=phproberto.vscode-php-getters-setters"
  rel="nofollow noreferrer noopener">phproberto.vscode-php-getters-setters</a>.
  Создание геттеров и сеттеров PHP на основе свойств класса.

Это список расширений для поддержки удаленной разработки по SSH:

- **Remote - SSH** <a
  href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh"
  rel="nofollow noreferrer noopener">ms-vscode-remote.remote-ssh</a>:
  Расширение Remote - SSH позволяет использовать любую удаленную машину с SSH 
  сервером в качестве вашего среды разработки. Это может значительно упростить 
  разработку и устранение неполадок в самых различных ситуациях. Для 
  получения дополнительной информации: 
  <a href="https://code.visualstudio.com/docs/remote/ssh-tutorial"
  rel="nofollow noreferrer noopener">Удаленная разработка по SSH</a>
- **Live Share** <a
  href="https://marketplace.visualstudio.com/items?itemName=MS-vsliveshare.vsliveshare"
  rel="nofollow noreferrer noopener">MS-vsliveshare.vsliveshare</a>:
  Visual Studio Live Share позволяет совместно редактировать и отлаживать 
  с другими в режиме реального времени, независимо от того, какие языки 
  программирования вы используете или какие типы приложений создаете. 
  Она предоставляет возможность мгновенно (и безопасно) поделиться вашим текущим 
  проектом, а затем при необходимости делиться 
  сессиями отладки, инстанциями терминала, веб-приложениями localhost, 
  голосовыми вызовами и многим другим.

Это список полезных расширений, настоятельно рекомендованных для 
облегчения разработки:

- **EditorConfig for VS Code** <a
  href="https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig"
  rel="nofollow noreferrer noopener">editorconfig.editorconfig</a> 
  Поддержка EditorConfig для Visual Studio Code
- **change-case** <a
  href="https://marketplace.visualstudio.com/items?itemName=wmaurer.change-case"
  rel="nofollow noreferrer noopener">wmaurer.change-case</a>: Быстрое 
  изменение регистра (camelCase, CONSTANT_CASE, snake_case и других) 
  текущего выделения или текущего слова
- **Project Manager** <a
  href="https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager"
  rel="nofollow noreferrer noopener">alefragnani.project-manager</a>: 
  Помогает легко получить доступ к вашим проектам, независимо от места их 
  расположения. Не пропустите больше важные проекты.

## Конфигурация отладки PHP

Это расширение поддерживает самые распространенные конфигурации PHP
<a href="https://xdebug.org/"
rel="nofollow noreferrer noopener">XDebug</a>. Оно полностью интегрирует все
функции VSCode для отладки скриптов PHP.

Чтобы настроить расширение, посетите официальную документацию.

В качестве примера конфигурации для отладки в VSCode, вот общий
launch.json:

```json
{
    // Используйте IntelliSense для изучения возможных атрибутов.
    // Наведите курсор, чтобы увидеть описания существующих атрибутов.
    // Для получения дополнительной информации посетите: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [

        {
            "name": "Listen for XDebug",
            "type": "php",
            "request": "launch",

            // Порт удаленного сервера для XDebug — 9000 является портом по умолчанию для XDebug
            "port": 9000,

            // Путь на удаленном сервере -> Путь к локальному проекту
            "pathMappings": {
                "/app/www": "${workspaceRoot}/www"
            }
        },
        {
            "name": "Launch currently open script",
            "type": "php",
            "request": "launch",
            "program": "${file}",
            "cwd": "${fileDirname}",

            // Локальный порт для XDebug — 9000 является портом по умолчанию для XDebug
            "port": 9000
        }
    ]
}
```

В дополнение к конфигурации launch.json,
требуемой felixfbecker/vscode-php-debug, это конфигурация самого PHP XDebug.

В данный момент в вашей среде разработки может быть xdebug-2 или
xdebug-3. Они отличаются требуемыми параметрами. Для настройки PHP
XDebug, это самые общие настройки для php.ini.

### Конфигурация XDebug 2

```ini
[XDebug]
;;;;;;;;;;;;;;;;;;;
; xdebug-2.9.8
;;;;;;;;;;;;;;;;;;;
xdebug.remote_enable = 1
xdebug.remote_autostart = 1
; xdebug.remote_port = 9000
```

### Конфигурация XDebug 3

```ini
[XDebug]
;;;;;;;;;;;;;;;;;;;
; xdebug-3.0.0
; https://xdebug.org/docs/upgrade_guide
;;;;;;;;;;;;;;;;;;;
xdebug.mode = debug
xdebug.start_with_request = yes
xdebug.discover_client_host = true
; xdebug.client_port = 9000
```

Чтобы узнать больше о том, как XDebug работает внутренне для подключения к редактору,
ознакомьтесь с [документацией](Xdebug 3 — Documentation).

## Конфигурация phpcs

Чтобы настроить расширение, посетите
[официальную документацию](https://pear.php.net/package/PHP_CodeSniffer/).
Расширение поддерживает самые распространенные конфигурации
<a href="https://pear.php.net/package/PHP_CodeSniffer/"
rel="nofollow noreferrer noopener">PHP_CodeSniffer</a>.

По умолчанию, PHP_CodeSniffer поставляется с несколькими стандартами кодирования. После установки
расширение работает с **PSR2**.

        "phpcs.standard": "PSR2",

Чтобы настроить расширение для применения **Joomla! Coding Standards**,
установите правила, следуя
официальному руководству.
После установки **Joomla! Coding Standards**, настройте пользовательские параметры, следуя этому образцу конфигурации:

        "phpcs.standard": "/home/YOUR-USER/.../Joomla",

## Настройка PHP Intelephense

Чтобы настроить расширение, посетите 
документацию intelephense.
Расширение не требует дополнительной настройки.

VSCode поставляется с базовой поддержкой языка PHP. Поэтому, возможно,
будет хорошей идеей отключить базовую поддержку, чтобы избежать конфликтов:

        // Отключить базовые предложения
        "php.suggest.basic": false,

        // Активировать подсказки кода в комментариях
        "editor.quickSuggestions": { "comments": true },

В качестве альтернативы, также существует очень популярное расширение: **PHP IntelliSense** <a
href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-intellisense"
rel="nofollow noreferrer noopener">felixfbecker.php-intellisense</a>
Продвинутая поддержка автодополнения и рефакторинга для PHP.

## Конфигурация PHPUnit

Чтобы настроить расширение, посетите документацию vscode phpunit

Расширение интегрирует
<a href="https://phpunit.de/"
rel="nofollow noreferrer noopener">PHP Unit</a> с VSCode, таким образом, все
функции PHP Unit интегрируются с VSCode и могут быть
параметризованы для дальнейшей интеграции с пользовательским интерфейсом.

Это пример конфигурации расширения:

        "phpunit.preferRunClassTestOverQuickPickWindow": true,
        "phpunit.driverPriority": [
            "Path",
            "Command",
            "Composer",
            "Phar",
            "Ssh",
            "GlobalPhpUnit"
        ],

## Настройка php cs fixer (только для PSR2)

Чтобы настроить расширение, посетите документацию VSCode php cs fixer.
Это расширение интегрирует
<a href="https://github.com/FriendsOfPHP/PHP-CS-Fixer" 
rel="nofollow noreferrer noopener">PHP-CS-Fixer</a> с VSCode, так что все
возможности PHP-CS-Fixer интегрированы с VSCode и могут также
быть параметризованы для дальнейшей интеграции с пользовательским интерфейсом.

Чтобы автоматически применять PHP-CS-Fixer к PHP файлам, настройте пользовательские
параметры следующим образом:

        "[php]": {
            "editor.defaultFormatter": "junstyle.php-cs-fixer",
        },
        "php-cs-fixer.onsave": true,

## Конфигурация PHP Phan (анализатора)

Чтобы настроить расширение, посетите
официальную документацию.
Это пример конфигурации расширения:

        "phan.phpExecutablePath": "/usr/bin/php",
        "phan.analyzedFileExtensions": [
            "php"
        ],

## Конфигурация phpmd

Чтобы настроить расширение, посетите
официальную документацию.
Расширению не требуется дополнительная настройка.

Пример конфигурации расширения:

        "phpmd.command": "php /home/ВАШ-ПОЛЬЗОВАТЕЛЬ/.../phpmd/phpmd.phar",
        "phpmd.rules": "/home/ВАШ-ПОЛЬЗОВАТЕЛЬ/.../phpmd-rulesets/phpmd_config.xml",

## Настройка EditorConfig для VS Code

EditorConfig — это формат файлов и набор плагинов для текстовых редакторов, предназначенный для поддержания единых стилей кодирования между разными редакторами и средами разработки (IDE).

Чтобы настроить редактор в соответствии с вашими предпочтениями, создайте файл .editorconfig:

    ; EditorConfig помогает разработчикам определять и поддерживать
    ; единые стили кодирования между разными редакторами и IDE.

    ; Подробнее на http://editorconfig.org.
    root = true

    ; Выберите между lf или rf в свойстве "end_of_line"
    [*]
    charset = utf-8
    end_of_line = lf
    indent_size = 2
    indent_style = space
    insert_final_newline = true
    trim_trailing_whitespace = true

    # editorconfig-tools не может игнорировать длинные строки или URL
    max_line_length = null

    [*.html]
    indent_style = tab

    # PSR-2
    # [*.php]
    # indent_size = 4
    # indent_style = space

    # Стандарты кодирования Joomla!
    [*.php]
    indent_size = 4
    indent_style = tab

    [*.md]
    trim_trailing_whitespace = false

    [*.yml]
    indent_style = space
    indent_size = 2

*Переведено openai.com*

