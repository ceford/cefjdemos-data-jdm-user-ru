<!-- Filename: J4.x:Adding_a_Custom_Administrator_Menu / Display title: Настраиваемое меню администратора -->

## Введение

Предположим, что у вас есть пользователь, которому вы хотите разрешить выполнять только одну задачу на вашем сайте. Рассмотрим случай организации, которая имеет филиалы по всему миру, и единственной задачей, которую разрешено выполнять каждому филиалу, является размещение местоположений на карте для отображения на сайте. Компонентом для этой задачи является Ffmap, но здесь он не будет освещен, за исключением пунктов меню администратора, вовлеченных в процесс.

Чтобы выполнить эту задачу, вам нужно создать пользовательскую группу пользователей, назначить пользователя в эту группу и создать пользовательское меню для использования этим пользователем.

## Создать группу пользователей

- В администраторском меню выберите **Пользователь → Пользователи → Группы**.
- В панели инструментов выберите кнопку **Создать**.
  - Введите **Название *для группы,*** в данном случае *Отдел*.
  - Выберите **Public** в качестве родительской группы. Это важно - вы не хотите наследовать разрешения от другой группы.
- Выберите **Сохранить и закрыть** в панели инструментов.

## Установите глобальные разрешения для группы

- Выберите **Глобальная конфигурация** на главной панели управления.
- Выберите вкладку **Разрешения**.
- Выберите элемент **Филиал**.
- Установите **Вход администратора** в положение **Разрешен**.
- Выберите **Сохранить и закрыть** в панели инструментов.

На этом этапе любой пользователь, назначенный в группу пользователей филиала, сможет войти в интерфейс администратора и увидеть главную панель управления. Некоторые модули панели управления могут быть видимы, поскольку их уровень доступа установлен на Public, например: Вошедшие пользователи, Популярные статьи и Недавно добавленные статьи. Лучше установить доступ к этим модулям на Уровень специального доступа. Меню для просмотра пользователем не будет видно.

## Установите разрешения для группы на компонент

Либо:

- Выберите компонент **Ffmap** в меню администратора.
- Нажмите кнопку **Параметры** FFmap на панели инструментов, чтобы открыть экран конфигурации.

Или:

- Выберите **Глобальная конфигурация** на домашней панели управления.
- Выберите Ffmap из списка компонентов.

Затем:

- Перейдите на вкладку **Разрешения** и выберите элемент **Branch**.
- Установите значения Доступ к интерфейсу администрирования, Создание, Удаление, Редактирование, Изменение состояния, Редактирование собственных и Редактирование значения пользовательского поля на **Разрешено**.
- Нажмите **Сохранить и закрыть** на панели инструментов.

## Создание нового меню администратора

- Выберите **Меню → Управление** в меню администратора.
- Выберите **Администратор** из выпадающего списка Сайт/Администратор.
- Нажмите кнопку **Создать** на панели инструментов.
- Введите название для меню, например, **Меню филиала**, и уникальный идентификатор, например,
  **branch-menu**.
- Выберите **Сохранить и закрыть** на панели инструментов.

## Создание модуля для меню

В списке меню выберите кнопку **Связанные модули** в записи
меню филиала.

- Введите название для модуля, например, **Меню филиала**.
- Выберите Меню для показа: **Меню филиала**.
- Установите Проверку меню в **Нет**, иначе будут предупреждения
  о недостающих функциях Администратора.
- Выберите позицию: **меню**.

## Создание контейнера меню компонентов

- В списке меню выберите значок элементов меню для меню филиала. Это откроет список элементов, который на данном этапе пуст.
- Выберите кнопку **Создать** на панели инструментов.
- Введите заголовок для элемента меню: **Компоненты филиала**.
- Выберите тип элемента меню **Выбор кнопки**.
  - В модальном окне прокрутите вниз до пункта **Системные ссылки** и разверните панель.
  - Выберите тип элемента **Контейнер меню компонентов**.
- Вернувшись в форму настройки меню, выберите **Скрыть все**, чтобы скрыть все элементы меню компонентов (красный).
- Прокрутите вниз до элементов Ffmap и нажмите кнопки скрытия, чтобы переключить их на отображение (зеленый).
- Выберите **Сохранить и закрыть** на панели инструментов.

## Скриншот

![выбор компонента пользовательского меню администратора](../../../en/images/menus/menus-custom-administrator-menu.png)

## Результат

Создайте пользователя в Группе отдела для тестирования. Войдите в интерфейс администратора под этим пользователем, чтобы увидеть результат:

![результат пользовательского меню администратора](../../../en/images/menus/menus-custom-administrator-menu-result.png)

## Заметки

Если вы позже добавите еще один компонент, он будет добавлен в Контейнер Меню Компонентов и будет видим по умолчанию. Вам нужно будет вернуться к элементу меню Администратора и установить для нового содержимого значение "Скрыть".

Если компонент настроен таким образом, чтобы включать элементы меню в каждом из представлений списка Администратора через включение файлов default.xml, вы можете добавить элементы меню непосредственно в пользовательское меню и избежать использования Контейнера Меню Компонентов.

Меню Компонентов Филиала останется частью меню Администратора — неизбежное дублирование!

*Переведено openai.com*

