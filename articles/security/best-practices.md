<!-- Filename: https://magazine.joomla.org/all-issues/april-2021/best-practices-to-secure-your-joomla-website / Display title: Лучшие практики   -->

## Статьи о безопасности

Существует значительное количество статей по безопасности Joomla, доступных на протяжении многих лет. К сожалению, многие из них устарели и, возможно, вводят в заблуждение. Например, есть серия статей "Контрольный список безопасности", и не все из них действительно посвящены безопасности.

Эта статья основана на статье журнала Joomla! Community Magazine, написанной Ахмадом Муссой в выпуске за апрель 2021 года.  

## Лучшие практики для защиты вашего сайта на Joomla

Joomla - это система управления контентом (CMS), широко распространенная в интернете благодаря своей простоте в использовании и популярности, так как она является второй по величине CMS, скачанной более 110 миллионов раз. Однако, несмотря на свою популярность, Joomla, как и все остальные веб-сайты, приложения, интернет-магазины или другие CMS, содержат риски безопасности. Вам не удастся избежать их, но, к счастью, приняв правильные меры предосторожности с самого начала, вы сможете обеспечить защиту вашего сайта.

Мы собрали для вас это комплексное пошаговое руководство по безопасности Joomla. Оно предназначено для предоставления простых в следовании шагов для усиления безопасности вашего сайта на Joomla. Поэтому, если защита вашего сайта на Joomla от всех возможных атак стоит у вас на повестке дня, прочтите это руководство. Все советы, упомянутые в этой статье, направлены на обеспечение того, чтобы вы применяли лучшие практики безопасности и обслуживания для защиты ваших самых важных активов в интернете.

## 1. Выбирайте умные имена пользователей и пароли

Будьте умны при выборе имен пользователей и паролей администратора Joomla. Не используйте "admin" в качестве имени пользователя и выбирайте сложный пароль. Это, наверное, один из лучших способов усилить безопасность Joomla, и, что иронично, один из самых простых.

Использование надежного пароля необходимо для хорошей безопасности Joomla. Убедитесь, что ваш пароль для входа достаточно длинный (8-14 символов) и включает в себя буквы, цифры и символы. Поскольку пароли чувствительны к регистру, использование как заглавных, так и строчных букв делает его еще надежнее. Кроме того, сделайте привычкой менять пароли администратора как минимум раз в месяц.

## 2. Соблюдайте Принцип Минимальных Привилегий

Убедитесь, что вы понимаете три различные группы разрешений:

1. Менеджеры: Имеют наименьший доступ к бэкэнду Joomla. Могут создавать и редактировать категории и статьи. Имеют доступ к медиаменеджеру и могут загружать и удалять медиафайлы. Не могут устанавливать или удалять расширения.
2. Администраторы: Имеют все права Менеджеров, а также несколько дополнительных разрешений. Имеют доступ к Управлению Пользователями, Менеджеру Меню и Менеджеру Расширений. Не могут получить доступ к меню Глобальной Конфигурации Joomla.
3. Суперпользователи: Имеют полный доступ к бэкэнду Joomla. Обладают всеми правами Менеджеров и Администраторов, а также доступом к Глобальной Конфигурации. Только Суперпользователи могут добавлять, редактировать и удалять Суперпользователей.

Важно распределять эти роли среди вашей группы пользователей с осторожностью. Любой, у кого есть роль Суперпользователя, способен выполнять любые действия в системе Joomla. Если вы поручаете задачи члену команды, которые требуют меньше разрешений, назначьте аккаунт этого члена с минимальным описанием доступа.

## 3. Используйте многофакторную аутентификацию Joomla

Настоятельно рекомендуется включить многофакторную аутентификацию Joomla, которая добавляет дополнительный слой безопасности вашему сайту на Joomla. Обычно, когда вы хотите войти на свой сайт, необходимо ввести имя пользователя и пароль, чтобы идентифицировать себя в системе. Основная проблема этого подхода заключается в том, что ваше имя пользователя и пароль могут быть украдены или угаданы. Поэтому плагины многофакторной аутентификации Joomla могут защитить ваш сайт от хакеров, добавляя второй уровень безопасности. После ввода имени пользователя у вас есть пять различных методов на выбор.

## 4. Ограничьте доступ к административной панели Joomla

Разумно ограничить доступ к административной панели Joomla с помощью фильтрации по IP-адресам, так как это чувствительный ресурс. Это также можно сделать для других важных папок Joomla, следуя приведенным ниже шагам:

Шаг 1: Сначала создайте файл .htaccess, если его еще нет в каталоге, который вы хотите защитить.

Шаг 2: Добавьте следующий код в файл .htaccess:
   ```
   Order Deny, Allow
   Deny from all
   Allow from xx.xx.xx.xx
   ```

Шаг 3: Укажите выделенный IP-адрес, с которого вы хотите разрешить доступ, вместо xx.xx.xx.xx.

Более подробную информацию об ограничении доступа к каталогу по IP-адресу с использованием htaccess можно найти в этой статье документации Joomla!. Вы также можете использовать расширения безопасности, которые могут ограничивать доступ к административной панели Joomla с помощью функции фильтрации по IP и включают множество других функций, усиливающих безопасность вашего сайта на Joomla.  

## 5. Используйте безопасные FTP-подключения

Убедитесь, что соединения, которые вы используете для доступа к файлам вашего сайта Joomla, защищены. Вы должны использовать шифрование SFTP, если ваша хостинг-платформа предоставляет такую возможность, или SSH. Если вы используете FTP-клиент, то порт по умолчанию для SFTP обычно равен 22.

Некоторые FTP-клиенты хранят пароли в открытом виде или в закодированном виде на вашем компьютере. Даже некоторые закодированные пароли можно преобразовать обратно в оригинал. Мы настоятельно рекомендуем не сохранять FTP-пароли в клиенте, чтобы избежать взлома.  

## 6. Регулярное создание резервных копий

Сэкономьте время, подготовившись к наихудшему сценарию в случае атаки на ваш веб-сайт. Поэтому рекомендуется создать полную рабочую резервную копию вашего сайта на Joomla. Рабочая резервная копия может восстановить ваш сайт за считанные минуты после кибератаки.

Основные компоненты резервной копии:

- Ядро Joomla и другие важные файлы
- База данных

Кроме того, методы резервного копирования также могут быть гибкими. Вы можете сделать резервную копию двумя способами — вручную и автоматически, как описано ниже:

### Ручной процесс

Ручная резервная копия сайта на Joomla требует двух компонентов: файлов и базы данных. Чтобы создать резервную копию ваших файлов и папок Joomla, используйте FTP утилиту или файловый менеджер, если вы используете сторонний хостинг.

FTP-клиенты могут загружать все файлы один за другим на ваш локальный компьютер. Однако этот процесс может быть медленным. После загрузки файлов сожмите папку в один zip-файл, затем защитите её паролем.

Базу данных можно сохранить в резервной копии, экспортировав её копию на ваш компьютер. Войдите в базу данных, которую вы хотите экспортировать, используя phpMyAdmin. Нажмите на имя базы данных в левой части страницы. После нажатия на вашу базу данных Joomla вы попадете на экран с вкладкой "Экспорт". Выберите вкладку Экспорт, затем нажмите кнопку с надписью "Вперед". Затем сохраните её в безопасном месте.

### Автоматический процесс

Для автоматического резервного копирования может помочь расширение Joomla, такое как Akeeba Backup. Установите расширение Akeeba Backup на ваш сайт Joomla после загрузки его с официального сайта разработчика. После завершения установки доступ к панели управления расширением, затем сделайте резервную копию вашего сайта. Когда резервное копирование завершится, вы будете перенаправлены на страницу. Здесь нажмите на «Управление резервными копиями». Это откроет страницу, содержащую все резервные копии. Вы можете скачать резервную копию отсюда и сохранить её локально.

## 7. Держите ваш сайт на Joomla обновленным

Обновление вашего сайта на Joomla может обеспечить безопасность и стабильность сайта. Более того, не все обновления являются обновлениями полной версии сайта; некоторые обновления могут быть незначительными и представляют собой просто исправления ошибок, в то время как другие — это обновления версии.

У Joomla есть специальная команда безопасности, известная своей быстрой разработкой патчей. Не обновляя ваш сайт на Joomla, вы делаете его уязвимым для взлома.

Чтобы проверить ваш сайт на наличие обновлений, вы можете сделать следующее:

Шаг 1: Войдите в свою Joomla-сайт в качестве администратора

Шаг 2: Далее перейдите в Компоненты>Обновление Joomla

Шаг 3: Теперь Joomla проверит, есть ли новые обновления. Если появится новое обновление, просто нажмите на опцию «Установить обновление».

Перед обновлением до новой версии Joomla следует проверить следующие вещи:

- Обновление шаблонов: Проверьте, совместимы ли ваши шаблоны Joomla с новой версией Joomla. Если нет, попросите автора шаблона обновить его или используйте другой.
- Обновление расширений: Проверьте и убедитесь, что все расширения Joomla совместимы с новой версией Joomla. Удалите все те, которые не совместимы. Чтобы обновить расширения, перейдите в Расширения>Управление и нажмите на обновление.
- Очистка кэша: После обновления до новой версии Joomla очистите кэш вашего сайта на Joomla. Это можно сделать с использованием встроенной функциональности Joomla.

## 8. Используйте надежные сторонние расширения и шаблоны:

Рекомендуется использовать минимальное количество расширений на вашем сайте для достижения оптимального уровня безопасности Joomla. Использование ненадежных сторонних расширений или шаблонов может привести к уязвимостям и негативно повлиять на производительность вашего сайта на Joomla. Не все сторонние расширения не создают проблем; если у вас есть возможность избежать использования стороннего расширения, воспользуйтесь ею! Выбирайте и используйте профессиональные расширения и шаблоны от надежных компаний и поддерживайте их в актуальном состоянии, чтобы защитить ваш сайт.

## 9. Обновление версии PHP на вашем сайте Joomla

Защитите ваш сайт от множества хакерских атак и укрепите безопасность вашего сайта Joomla, обновив версию PHP вашего сайта до последнего стабильного релиза. Убедитесь, что вы выбираете версию PHP, совместимую с вашими шаблонами и расширениями Joomla, чтобы не нарушить работу сайта. Существует множество способов обновления версии PHP. Основные из них рассмотрены в статье сентябрьского выпуска Joomla Community Magazine за 2020 год: Как обновить версию PHP?.

## 10. Усиление заголовков безопасности HTTP

Настоятельно рекомендуется внедрить или обновить заголовки безопасности HTTP, так как они обеспечивают дополнительный уровень безопасности для вашего сайта Joomla, помогая снизить риски атак и уязвимостей. Обычно они требуют лишь небольших изменений в конфигурации вашего веб-сервера. Эти заголовки указывают вашему браузеру, как следует обрабатывать содержимое вашего сайта. Ниже перечислены шесть распространенных заголовков безопасности HTTP, которые следует проверить:

- Content-Security Policy (Политика безопасности содержимого)
- X-XSS-Protection (Защита от XSS)
- Strict-Transport-Security (Строгая транспортная безопасность)
- X-Frame-Options (Параметры рамки)
- Public-Key-Pins (Закрепление открытых ключей)
- X-Content-Type (Определение типа содержимого)  

## 11. Используйте расширение безопасности Joomla

Необходимо ограничить количество попыток входа в административную панель Joomla, чтобы избежать атак методом подбора паролей на ваш сайт Joomla. Это можно реализовать с помощью различных расширений безопасности Joomla, которые защищают административную панель вашего сайта от попыток взлома. Вы можете найти такие расширения в категории безопасности на сайте расширений для Joomla.

## 12. Выбор защищенного провайдера хостинга

Убедитесь, что выбранный вами провайдер хостинга внедряет меры безопасности Joomla. Если вы выбираете совместный хостинг, убедитесь, что реализована субсетизация с учетом безопасности Joomla. Покупка дешевого провайдера совместного хостинга может оказаться не самым лучшим выбором, так как ваш сайт будет работать медленнее, подвергаться спаму из-за «неблагополучного района» сайтов с низкой репутацией и может быть скомпрометирован, если другие сайты будут взломаны. Также при выборе хостинг-плана проверьте различные параметры, такие как возможность настройки, поддержка, отзывы и т. д.

## 13. Используйте SSL для повышения безопасности Joomla

Настоятельно рекомендуется установить сертификат SSL (Secure Socket Layer) на ваш сайт, так как он будет шифровать коммуникацию между вашим сайтом на Joomla и браузерами ваших посетителей. Получите сертификат SSL от проверенного удостоверяющего центра и убедитесь, что весь ваш трафик HTTP перенаправляется на HTTPS. Чтобы сделать это, добавьте следующий код в ваш файл .htaccess:

```
# Перенаправление HTTP на HTTPS
RewriteEngine On
RewriteCond %{HTTPS} off
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
```

## 14. Частый аудит безопасности Joomla

Крайне важно выявлять уязвимости до того, как это сделает хакер, чтобы ваш сайт на Joomla оставался безопасным. Это можно сделать, выбрав профессиональный инструмент для аудита безопасности, который сэкономит вам много времени в управлении вашими веб-сайтами. Тщательные аудиты безопасности — отличный способ повысить безопасность вашего Joomla. Многие сервисы делают это, автоматизируя задачи, такие как создание резервных копий сайтов, сканирование на признаки вторжений и массовое обновление доверенных расширений. Они также могут сканировать ваш сайт на соблюдение лучших практик безопасности и выполнять глубокое сканирование для поиска потенциальных угроз безопасности. Эти сервисы используют оптимизированное сочетание ручных и автоматизированных механизмов для обнаружения уязвимостей на вашем Joomla сайте.

## 15. Проверьте сообщения после установки

Настоятельно рекомендуется прочитать все сообщения после установки, так как команда Joomla предоставляет важную информацию, требующую вашего внимания после обновления или первой установки Joomla. Эти сообщения, как правило, содержат настройки безопасности Joomla или изменения в файлах, которые необходимо внести вручную и которые не могут быть изменены при обновлении.

## 16. Познакомьтесь с уязвимыми расширениями

Всегда проверяйте веб-сайт Списка уязвимых расширений и его страницы в социальных сетях, чтобы быть в курсе последних угроз безопасности и возможных исправлений. Рекомендуется удалить любое расширение, указанное в Списке уязвимых расширений, для которого неизвестно существование исправления. Обязательно обновляйте свое уязвимое расширение всякий раз, когда для него будет доступно исправление. Если ваш сайт использует уязвимую версию расширения, для которой нет обновления исправления, то рекомендуется заменить ее.

## Заключение

Поскольку риск всегда будет существовать, обеспечение безопасности Joomla останется непрерывным процессом, требующим частой оценки возможных источников атак. Владельцы и администраторы сайтов должны постоянно улучшать безопасность своего веб-сайта, чтобы уменьшить риск компрометации.

*Переведено с помощью openai.com*  

