<!-- Filename: J4.x:Language_Overrides / Display title: Переопределение Языка  -->

## Месторасположения языковых файлов

Большинство языковых файлов Joomla! находятся в папках `language`, одна из которых расположена в корне сайта, а другая — в папке администратора. Каждому языку соответствует собственная подпапка, основанная на стандартных языковых кодах RFC3066. Каждое расширение хранит свои переводы с именем, производным от имени расширения. Несколько примеров:

```
siteroot/language/en-GB/com_content.ini
siteroot/administrator/language/en-GB/com_content.ini
siteroot/administrator/language/en-GB/com_content.sys.ini
```

Файлы содержат строки, состоящие из ключа и его перевода:

```
COM_CONTENT="Статьи"
COM_CONTENT_ADD_NEW_MENU_ITEM="Новый элемент меню"
COM_CONTENT_ARTICLE_CONTENT="Контент"
COM_CONTENT_ARTICLES_TABLE_CAPTION="Таблица статей"
COM_CONTENT_ARTICLES_TITLE="Статьи"
```

Код PHP Joomla! использует ключи. Они заменяются текстовым переводом во время выполнения. Файл .ini содержит переводы, используемые расширением. Файлы sys.ini содержат переводы, используемые Joomla для управления расширением. В языковом файле может быть несколько сотен строк.

Рекомендуется, чтобы языковые файлы сторонних расширений хранились в папках `language` внутри расширения. Там они защищены от удаления, если администратор решит удалить язык. Пример:

```
siteroot/components/com_countrybase/language/en-GB/com_countrybase.ini
siteroot/administrator/components/com_countrybase/language/en-GB/com_countrybase.ini
siteroot/administrator/components/com_countrybase/language/en-GB/com_countrybase.sys.ini
```

**Никогда не редактируйте ни один язык файл в ядре Joomla! или сторонние языковые файлы! Любые изменения, которые вы внесете, будут утеряны при следующем обновлении. Если вы хотите изменить формулировку любого языкового элемента, используйте компонент Language Override.**

Перегрузки языка являются вашими заменами для переводов ключей языка ядра или расширений. Это отдельные переводы, один или два, а не целый файл! Перегрузки языка для заданного языка хранятся в одном файле:

```
siteroot/language/overrides/en-GB.override.ini
siteroot/language/overrides/fr-FR.override.ini
siteroot/language/overrides/de-DE.override.ini

siteroot/administrator/language/overrides/en-GB.override.ini
siteroot/administrator/language/overrides/fr-FR.override.ini
siteroot/administrator/language/overrides/de-DE.override.ini
```

### Порядок загрузки языков

При каждой загрузке страницы сначала загружается перевод на en-GB. Это гарантирует, что пользователи сайта не увидят ключей. Если используется другой язык, то затем загружаются переводы для этого языка, заменяя переводы en-GB. Другие языки часто отстают от en-GB в создании переводов, поэтому пользователи могут иногда видеть слова или фразы на английском языке среди текста на своём языке.

Наконец, загружаются переводы из файла перегрузок языка. Это позволяет сайту использовать альтернативные слова или фразы, которые соответствуют местным условиям.

## Переопределения языка

Иногда вам может потребоваться заменить отдельный переведенный элемент языка на что-то более подходящее для местных обстоятельств. Обычный случай — когда вы создаете переопределение шаблона или макет и хотите добавить контент, использующий новый языковой ключ. В следующем примере показан случай, когда некоторый текст был добавлен в макет выхода из модуля входа, описанный в статье о макетах шаблонов. Альтернативный макет имеет следующий код:

```html
<p class="text-center">
Ваша сессия завершится в <br><?php echo $endTime; ?>
</p>
```

Для многоязычного сайта, использующего английский, французский и немецкий языки, код нужно изменить:

```html
<p class="text-center">
<?php echo Text::_('TPL_CASSIOPEIA_MOD_LOGIN_SESSION_EXPIRES_AT')?><br><?php echo $endTime; ?>
</p>
```

Примечание: если вы следовали руководству по макету шаблона, у вас уже может быть ключ TPL_CASSIOPEIA_MOD_LOGIN_LAYOUT_EXPIRES, который переводится как "Завершается". Но он используется в siteroot/administrator/language/overrides.

Теперь новый ключ можно перевести на каждый язык. Переводы будут сохранены в siteroot/language/overrides.

- Выберите **Система** → **Управление панелями** → **Переопределения языка**
- Выберите ваш язык и расположение сайта.
- Выберите кнопку **Новый** и заполните форму. В этом примере языковой ключ — **TPL_CASSIOPEIA_MOD_LOGIN_SESSION_EXPIRES_AT**, а текст может быть **Ваша сессия завершится в**.
- Сохраните и закройте форму.
- Повторите процесс перевода для каждого языка.

![форма редактирования языковых переопределений](../../../en/images/languages/language-overrides-edit.png)

Наконец, убедитесь, что перевод был внедрен.

![Результат Переопределения в форме входа на сайт](../../../en/images/languages/language-overrides-custom-logout.png)

*Переведено сайтом openai.com*

