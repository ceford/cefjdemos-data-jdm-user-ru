<!-- Filename: J4.x:Workflow / Display title: Процесс публикации -->

## Введение

В Joomla рабочий процесс — это последовательность шагов в жизненном цикле статьи от замысла до окончания. Эти шаги обычно выполняются разными людьми с разными обязанностями. Например, в мире газеты субредактор берет историю у репортера и проверяет ее на точность, грамматику, читаемость и длину, а иногда и на большее. Затем субредактор передает историю редактору, который может принять или отклонить ее, решить, где разместить в газете и так далее.

Компонент Workflow используется для добавления **этапов** к статьям, чтобы улучшить статические состояния (неопубликованные, опубликованные, удаленные и архивированные) с помощью **переходов**. Статические состояния и переходы записываются отдельно, чтобы рабочие процессы можно было включать или отключать по мере необходимости без изменения состояния элементов контента. Рабочие процессы включаются или отключаются на вкладке *Интеграция* страницы *Параметры статей*.

Существует страница-руководство, содержащая шаги для создания примера рабочего процесса: [Сценарии рабочих процессов](jdocmanual?article=user/workflows/workflow-scenarios).

## Термины и определения

- *Рабочий процесс:* Рабочий процесс — это полная последовательность шагов. Можно создать несколько различных рабочих процессов для разных целей. Компонент рабочего процесса содержит *Базовый рабочий процесс*, а данные из примера блога имеют более сложный *Рабочий процесс блога*.
  
- *Этап:* Этап — это место внутри рабочего процесса. Например, неопубликованная статья может находиться на Этапе 1: В подготовке или Этапе 2: Готова к проверке и так далее. Этап для элемента записывается в базе данных.
  
- *Переход:* Переход — это изменение с одного этапа на другой, часто на следующий в рабочем процессе, но возможно также переход на предыдущий или начальный этап.

- *Состояние:* Состояние статьи может быть неопубликованным, опубликованным, удалённым или архивированным. Состояние может быть изменено путем выполнения перехода в рабочем процессе, при условии, что пользователь имеет разрешение на изменение состояния.
  
- *Категория:* Когда рабочие процессы используются, для категории можно выбрать конкретный Рабочий процесс на вкладке *Рабочий процесс* в форме *Статья: редактирование категории*.

## Список Рабочих Процессов

Когда рабочие процессы включены, список доступных рабочих процессов можно увидеть, выбрав **Содержание → Рабочие процессы** в меню администратора.

![Список рабочих процессов](../../../en/images/workflows/workflows-list.png)

- **Статус** рабочего процесса может быть Включён, Отключён или В Корзине.
- **Имя** представляет собой ссылку на форму редактирования рабочего процесса.
- **По умолчанию** используется для новых элементов, которые не назначены
  категории с определённым рабочим процессом.
- **Этапы** — это кнопка, показывающая количество этапов и ссылку на список этапов для рабочего процесса.
- **Переходы** — это кнопка, показывающая количество переходов и ссылку на список переходов для рабочего процесса.
- **ID** — это числовое значение рабочего процесса, используемое внутри системы.

## Этапы

Этапы доступны через список *Рабочих процессов*. Выберите желтую кнопку, указывающую количество этапов.

![Список этапов рабочего процесса](../../../en/images/workflows/workflow-stages-list.png)

Выберите название этапа, чтобы его отредактировать.

![Форма редактирования этапа рабочего процесса](../../../en/images/workflows/workflow-stage-edit.png)

## Переходы

В рабочих процессах статьи переходят с одного этапа на другой. Переходы управляются через список *Переходов*.

![Список переходов](../../../en/images/workflows/workflow-transitions-list.png)

- *Текущий этап* определяет, где начинается этот переход.
- *Целевой этап* определяет, где этот переход заканчивается.

### Этапы перехода

Текущий* и *Целевой* этапы устанавливаются в форме *Редактировать переход*:

![Форма редактирования перехода](../../../en/images/workflows/workflow-transition-edit.png)

Вкладка *Действия перехода* используется для определения *Состояния*, в котором элемент будет находиться после завершения перехода.

![Вкладка действий формы редактирования перехода](../../../en/images/workflows/workflow-transition-edit-actions-tab.png)

- **Состояние выделения** Указывает, будет ли элемент *выделен*.
- **Состояние публикации** Выберите из списка целевое состояние.

Вкладка *Уведомления о переходе* используется для определения, будет ли отправлено уведомление для этого состояния. Например, если статья написана, но нуждается в корректуре, может быть отправлено электронное письмо для уведомления редактора.

![Вкладка уведомлений формы редактирования перехода](../../../en/images/workflows/workflow-transition-edit-notifications-tab.png)

- **Отправка уведомления** Если установлено значение *Да*, появляются дополнительные поля.
- **Дополнительный текст сообщения** Добавьте дополнительный текст сообщения или используйте языковую строку для перевода текста сообщения.
- **Группы пользователей** Выберите, кто получит уведомление, например, все пользователи в группе *Редактор*.
- **Пользователи** Выберите отдельных пользователей для получения этого уведомления.

### Разрешения

Вкладка разрешений контролирует доступ к этому переходу по выбранным группам пользователей. Обычно разрешения наследуются из настроек разрешений в *Статьи: Параметры*.

### Плагины переходов рабочего процесса

Плагины рабочего процесса используются для действий, инициируемых переходами. Перейдите в **Система → Плагины** и измените фильтр *- Выбрать тип -* на *workflow*. Каждый из этих плагинов может быть отключен, если не требуется.

![Список плагинов рабочего процесса](../../../en/images/workflows/workflow-plugins.png)

- **Выделение рабочего процесса** Это действие реализует изменение статуса *Выделенный* статьи с *Да* на *Нет*.
- **Уведомление рабочего процесса** Это действие реализует уведомление пользователя о том, что изменение этапа требует внимания.
- **Публикация рабочего процесса** Это действие реализует изменение состояния статьи с одного на другое, такие как *Опубликовано*, *Неопубликовано*, *Удалено* или *Архивировано*. Если у пользователя нет разрешения на изменение состояния, это завершится с разъяснительным сообщением. Переход, который запросил изменение состояния, все равно будет успешным!

## Категории

Статьи могут быть назначены в категории. Они соответствуют определенному рабочему процессу и могут настраиваться различными способами. Вы можете задать статус, родительскую категорию, а также ограничить доступ и разрешения. Эта опция отсутствует на экране рабочих процессов. Для этой опции вам нужно перейти в **Контент → Категории**. Оказавшись там, откройте любую категорию, и вы увидите вкладку *Рабочие процессы*.

![Редактирование категории статей: рабочий процесс](../../../en/images/workflows/workflow-categories-blog.png)

### Пример

Некоторые статьи должны быть доступны только администраторам или пользователям более высокого ранга.

- Создайте категорию под названием *Ограничено*
- Установите все разрешения на *Разрешено* для администраторов или выше.
- Переместите соответствующие статьи в категорию *Ограничено*.

Это экономит установку разрешений на отдельные статьи.

## Управление версиями

Когда рабочий процесс включён, поля, управляемые рабочим процессом, исключаются из управления версиями (такие как "состояние" и "рекомендуемые"), чтобы избежать конфликтов прав доступа.

## Примеры

Некоторые конкретные примеры доступны, чтобы показать, как использовать Workflows для разных групп пользователей:

- [Пример 1](jdocmanual?article=user/workflows/workflow-example-1) использует группы пользователей по умолчанию: Автор, Редактор и Издатель, чтобы подготовить материалы для информационного бюллетеня.
- [Пример 2](jdocmanual?article=user/workflows/workflow-example-2) использует настраиваемые группы пользователей для подготовки материалов к заседаниям комитета.

*Переведено на openai.com*

