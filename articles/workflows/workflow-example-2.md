<!-- Filename: J6.x:Workflow_Scenarios_Example_2 / Display title: Пример рабочего процесса 2  -->

## Введение

Этот пример включает двух пользователей, Алису и Боба, которые соответственно являются председателем и секретарем комитета. Рабочий процесс предполагает подготовку и утверждение повесток дня и протоколов собраний комитета. Чарли является членом комитета, который будет иметь доступ к документам комитета, когда они будут опубликованы. Рабочий процесс использует только интерфейс.

## Группы пользователей

Сначала создайте новые группы пользователей, все из которых являются дочерними для *Зарегистрированных*.

- **Комитет** Дочерняя группа для *Зарегистрированных*
- **Председатель** Дочерняя группа для *Комитета*
- **Секретарь** Дочерняя группа для *Комитета*

![Пользовательские группы](../../../en/images/workflows/example-2-user-groups.png)

## Уровень Доступа Пользователя

- Создайте новый уровень, **Комитет**, и добавьте *Комитет* в группы пользователей с доступом к просмотру.
- В уровне доступа *Специальный* добавьте *Комитет* в группы пользователей с доступом к просмотру.

![Уровни доступа для просмотра](../../../en/images/workflows/example-2-viewing-access-levels.png)

## Создать пользователей

- **Элис** в группе *Председатель*.
- **Боб** в группе *Секретарь*.
- **Чарли** в группе *Комитет*.

## Создание рабочего процесса

- **Название** *Рабочий процесс комитета*
- **Описание** *Рабочий процесс для подготовки документов комитета.*
- **Разрешения**
  - **Комитет** Все установлено на *Наследуемое* Не разрешено (наследуется).
  - **Председатель** Все установлено на *Разрешено*, кроме *Удаления*. Возможно...
  - **Секретарь** Все установлено на *Разрешено*, кроме *Удаления* и *Редактирования состояния*.

![Список рабочих процессов](../../../en/images/workflows/example-2-workflows-list.png)

### Создание этапов рабочего процесса

- **Черновик** 
  - **Примечание** *Документы в стадии подготовки.* 
  - **Разрешения** Все оставлено на *Наследуемое*.
- **Рецензия**
  - **Примечание** *Документы ожидают одобрения.* 
  - **Разрешения** Все оставлено на *Наследуемое*.
- **Публикация**
  - **Примечание** *Документы опубликованы.* 
  - **Разрешения** Все оставлено на *Наследуемое*.

![Этапы рабочего процесса](../../../en/images/workflows/example-2-stages-committee-workflow.png)

### Создание переходов рабочего процесса

#### Черновик в Рецензию

Это нормальный переход вперед в последовательности этапов.

- **Название** *Черновик/Рецензия*
- **Вкладка перехода**
  - **Текущий этап** *Черновик*
  - **Целевой этап** *Рецензия*
  - **Примечание** *Переход на следующий этап.*
- **Вкладка действий перехода**
  - **Представляемое состояние** *- Не выбрано -*
  - **Состояние публикации** *- Не выбрано -*
- **Вкладка уведомлений**
  - **Отправить уведомление** *Да* Реципиентам нужно включить *Получение системных писем*
    для получения уведомлений по электронной почте. 
  - **Текст дополнительного сообщения** Что-то конкретное для этого рабочего процесса?
  - **Группы пользователей** *Председатель*
  - **Пользователи** Альтернатива использованию групп пользователей.
- **Вкладка разрешений** Все установлено на **Наследуемое**.

#### Рецензия в Черновик

Это возврат к предыдущему этапу в последовательности, вызываемый,
когда председатель требует доработки от секретаря. Поля формы аналогичны
полям Черновик/Рецензия, за исключением Примечания и того, что
*Текущий этап* и *Целевой этап* меняются местами.

#### Рецензия в Публикацию

Это переход, который изменяет состояние элемента с *Неопубликованного*
на *Опубликованное*. Только председатель имеет разрешение на выполнение этого перехода.

- **Название** *Рецензия/Публикация*
- **Вкладка перехода**
  - **Текущий этап** *Рецензия*
  - **Целевой этап** *Публикация*
  - **Примечание** *Финальный переход к публикации.*
- **Вкладка действий перехода**
  - **Представляемое состояние** *- Не выбрано -*
  - **Состояние публикации** *Опубликовано*
- **Вкладка уведомлений**
  - **Отправить уведомление** *Да* Реципиентам нужно включить *Получение системных писем*
    для получения уведомлений по электронной почте. 
  - **Текст дополнительного сообщения** *Документ комитета был опубликован и теперь доступен для просмотра.*
  - **Группы пользователей** *Комитет*
  - **Пользователи** Альтернатива использованию групп пользователей.
- **Вкладка разрешений**
  - **Секретарь** Установить *Выполнение перехода* на *Запрещено*.

#### Публикация в Рецензию

Это изменение с публикации обратно на рецензию. Это действительно необходимо? 
Опубликованная статья все еще может быть редактирована секретарем или председателем. Возможно, 
документ комитета с конфиденциальными данными был опубликован по ошибке.

Если требуется, создайте переход аналогичный переходу *Рецензия в Публикацию*,
но с обратными этапами, *Действия перехода / Состояние публикации*
установлено на *Неопубликовано* и общее сообщение в *Текст дополнительного сообщения*.

#### Архив

Это переход, выполняемый, когда документ комитета больше не нужен.
В рабочем процессе он остается на этапе Публикация, но состояние статьи
изменяется с Опубликованного на Архивированное.

- **Название** *Архив*
- **Вкладка перехода**
  - **Текущий этап** *Публикация*
  - **Целевой этап** *Публикация*
  - **Примечание** *Изменить состояние элемента с Опубликованного на Архивированное.*
- **Вкладка действий перехода**
  - **Представляемое состояние** *- Не выбрано -*
  - **Состояние публикации** *Архивировано*
- **Вкладка уведомлений**
  - **Отправить уведомление** *Нет* Это не переход, требующий действия. 
- **Вкладка разрешений**
  - **Секретарь** Установить *Выполнение перехода* на *Запрещено*.

![Переходы рабочего процесса](../../../en/images/workflows/example-2-transitions-committee-workflow.png)

## Создать новую категорию

<div class="alert alert-warning">Этот шаг очень важен! Новые документы Комитета
должны быть созданы с этой категорией, иначе они примут стандартный
рабочий процесс, для изменения которого требуется Суперпользователь.</div>

- **Название** *Комитет* 
- **Рабочий процесс** Выберите *Рабочий процесс Комитета* из списка рабочих процессов.
- **Разрешения** 
  - Автор, Редактор и Издатель: Все установлены на *Не разрешены* или оставлены 
    на *Не разрешены (Наследуется)*.
  - Комитет: Все оставлены на *Наследуется*.
  - Председатель: Все, кроме *Удалить*, установлены на *Разрешено*.
  - Секретарь: Все, кроме *Удалить* и *Изменить состояние*, установлены на *Разрешено*.

## Создать пункт меню

- **Название** *Документы комитета*
- **Тип пункта меню** Список категорий
- **Выберите категорию** *Комитет*
- **Доступ** *Комитет*

![Пункт меню документов комитета](../../../en/images/workflows/example-2-menu-item.png)

## Проверьте сайт

Войдите поочередно как Алиса, Боб, Чарли и суперпользователь, чтобы увидеть, что они могут видеть:

Алиса, Боб и Чарли могут видеть пункт Меню, но никто другой его не видит, даже суперпользователь. После выбора пункта меню Алиса и Боб могут видеть таблицу комитетских бумаг, включая те, которые еще не были опубликованы. Чарли может видеть только таблицу опубликованных комитетских бумаг или разъяснительное сообщение, если ни одна не была опубликована.

Алиса и Боб также могут видеть ссылку Редактировать для каждой статьи и кнопку **Новая статья**. Обычно её использует Боб для создания комитетской бумаги, но Алиса тоже может это сделать.

![Вид страницы со списком категорий комитетских бумаг, который видит Боб](../../../en/images/workflows/example-2-committee-papers.png)

### Для создания и публикации комитетской бумаги

- Войдите как секретарь и выберите кнопку **Новая статья** на странице *Комитетские бумаги*.
- Введите текст и *Сохраните*. Это можно сделать за несколько сеансов редактирования и, возможно, в течение нескольких дней или недель. Статья остается Неопубликованной и находится на этапе черновика до тех пор...
- Выберите вкладку *Публикация* в форме редактирования и установите *Этап рабочего процесса* на Переход **Черновик/Рецензия**.
- Выберите **Сохранить и закрыть**, чтобы выполнить переход.
- Работа секретаря на этом завершена, и сообщение было отправлено председателю комитета.
- Председатель заходит в систему, проверяет готовность бумаги к Рецензии и использует переход **Рецензия/Публикация**, чтобы сделать бумагу *Опубликованной*. Работа председателя на этом завершена, и сообщение отправляется членам комитета.
- Члены комитета могут войти в систему и получить доступ к опубликованной бумаге.

*Переведено на openai.com*

