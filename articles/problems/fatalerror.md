<!-- Filename: J4.x:FatalError / Display title: Фатальная ошибка  -->

## Введение

Время от времени Joomla может отображать страницу с ошибкой вместо страницы, которую вы ожидали увидеть. Существует два типа страниц с ошибками:

- Страница системной ошибки имеет красный фон. Она появляется, если возникает серьезная ошибка до того, как будет отображен шаблон сайта или панели администратора.
- Страница ошибки шаблона выглядит как обычный шаблон сайта или панели администратора, но область контента заменяется на сообщение об ошибке. Эта страница появляется, когда ошибка возникает в коде контента.

### Страница системной ошибки

![Страница критической системной ошибки](../../../en/images/problems/fatal-error.png)

### Страница ошибки шаблона

![Страница ошибки шаблона](../../../en/images/problems/template-error.png)

## Как устранить

Существует множество возможных причин возникновения фатальных ошибок. Вот лишь несколько из них:

- Изменение на вашем хосте, например, обновленная версия PHP, которая не совместима с Joomla или одним из ваших расширений.
- Проблема с дисковым пространством, использованием памяти или превышением времени выполнения скрипта.
- Ново установленное или активированное расширение, которое не совместимо с Joomla. Плохой плагин может отключить вход в панель администратора!

### Включение отладки

Если ваш интерфейс администратора **всё ещё** работает:
- Перейдите в **Главная панель → Системная панель → Глобальная конфигурация**. 
- Во вкладке Система установите значение *Отладка системы* на *Да*. 
- Во вкладке Сервер установите значение *Отчет об ошибках* на *Максимальный*. 
- Затем *Сохраните и закройте*.

Если ваш интерфейс администратора **не** работает, отредактируйте файл *configuration.php* в корневой папке вашего сайта Joomla.

1. Измените разрешения с *444* или *-r--r--r--* (никто не имеет разрешения на запись в файл) на *644* или *-rw-r--r--* (только владелец имеет разрешение на запись).
2. Отредактируйте файл в текстовом редакторе и установите значение `$debug` в `true` и `$error_reporting` в `'maximum'`.
3. *Сохраните* файл.

После внесения изменений перезагрузите страницу, которая вызывала ошибку. Теперь вы должны увидеть трассировку стека. Пример:

![Страница ошибки шаблона](../../../en/images/problems/template-error-stack-trace.png)

Первый элемент в трассировке стека указывает, где ошибка была вызвана. Иногда этого достаточно, чтобы определить неисправное расширение. Иногда неисправное расширение находится ниже в трассировке стека. Возможно, вам это мало о чем скажет, но трассировка стека неоценима для экспертов, отвечающих на вопросы в форумах Joomla.

Если вы можете идентифицировать неисправное расширение, отключите его. Вы можете сделать это, используя интерфейс администратора, если он работает. В противном случае используйте phpMyAdmin, чтобы найти расширение в таблице базы данных `#__extensions` и установить для значения `enabled` значение `0`. Вам не нужно отключать никакие основные расширения Joomla.

## Помощник по сообщениям на форуме

Чтобы помочь в решении проблем, вам следует загрузить
[Помощник по сообщениям на форуме (FPA)](https://forumpostassistant.github.io/docs/) и
разместить его в корневом каталоге вашего сайта Joomla. Ссылка для его поиска также
находится вверху каждой страницы форума Joomla. FPA — это автономный PHP
скрипт, который анализирует вашу установку Joomla и сообщает вам, что может быть
не так. Снова же, это может не иметь большого значения для вас, но эксперты,
отвечающие на вопросы на форумах, могут попросить его увидеть.

## Очистка

Когда ваша проблема будет решена:

1. Перейдите в **Главная Панель → Панель Системы → Глобальная Конфигурация**.
2. Выберите вкладку Система и установите *Отладка системы* в положение *Нет*.
3. Выберите вкладку Сервер и установите *Отчет об ошибках* в положение *По умолчанию системы*.
4. Нажмите *Сохранить и закрыть*.
5. Удалите Помощника сообщений на форуме.

Разрешения на `configuration.php` установлены только для чтения (444 или *r--r--r--*), когда форма Глобальной Конфигурации сохраняется. Нет необходимости делать это вручную.

*Переведено с помощью openai.com*

